% rebase base
% import json
<div class="row">
  <div class="col-md-8 col-md-offset-2">
    <h1>Statistics</h1>
    <p>
      Games played: {{games_played}} <br />
      Optimal solutions found: {{optimal_games_played}} <br />
      Average optimal solution length: {{avg_opt_sol_len}}
    </p>

    <div id="chart-container1" class="chart-container">
      <div id="y-axis1" class="y-axis"></div>
      <div id="chart1" class="chart"></div>
      <div id="legend1" class="legend"></div>
    </div>

  </div>
</div>

<script src="/static/rickshaw/vendor/d3.min.js"></script>
<script src="/static/rickshaw/vendor/d3.layout.min.js"></script>
<script src="/static/rickshaw/rickshaw.min.js"></script>
<script>
var graph1 = new Rickshaw.Graph({
    element: document.querySelector("#chart1"),
    renderer: 'line',
    series: [{
            name: "Your number of moves per game",
            data: {{!json.dumps(usr_moves)}},
            color: 'steelblue'
    }, {
            name: "Optimal number of moves per game",
            data: {{!json.dumps(opt_moves)}},
            color: 'lightblue'
    }]
});

var legend1 = new Rickshaw.Graph.Legend({
    graph: graph1,
    element: document.querySelector('#legend1')
});

var x_axis1 = new Rickshaw.Graph.Axis.X( { graph: graph1 } );
var y_axis1 = new Rickshaw.Graph.Axis.Y( {
        graph: graph1,
        orientation: 'left',
        //tickFormat: Rickshaw.Fixtures.Number.formatKMBT,
        element: document.getElementById('y-axis1'),
} );

var hoverDetail1 = new Rickshaw.Graph.HoverDetail( {
    graph: graph1
} );

graph1.render();
</script>
